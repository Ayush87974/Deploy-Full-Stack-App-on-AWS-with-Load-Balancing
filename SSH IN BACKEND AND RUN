# on EC2 (Ubuntu)
sudo apt update
sudo apt install -y build-essential nginx git curl

# install Node.js (example using Node 18)
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt-get install -y nodejs

# clone or copy your backend code
git clone <your-repo> backend-demo
cd backend-demo/backend
npm install

# set environment variables (JWT secret)
export JWT_SECRET="replace_with_secret"   # for systemd or pm2, use env files
# Start with pm2
sudo npm install -g pm2
pm2 start server.js --name demo-backend --watch -- -p 3001
pm2 save

# ensure port 3001 is listening
ss -tulpen | grep 3001
